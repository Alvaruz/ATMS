{% load staticfiles %}
{% load static %}

<!Doctype html>
<html lang="es">
  <head>
    <link rel="shortcut icon" href="#" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'normalize.css' %}">
    <link rel="stylesheet" href="{% static '/themes/cosmo/bootstrap.min.css' %}">



    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Categoria', 'Cantidad'],
          ['Mantenimiento', {{data.mantenimiento}}],
          ['Vehículo mal estacionado', {{data.vehiculo_mal_estacionado}}],
          ['Vehículo descompuesto', {{data.vehiculo_descompuesto}}],
          ['Manifestación',  {{data.manifestacion}}],
          ['Cierre de calle', {{data.cierre_de_calle}}],
          ['Accidente', {{data.accidente}}],
          ['Obras', {{data.obras}}],
          ['Obstáculo', {{data.obstaculo}}],
          ['Congestionamiento', {{data.congestionamiento}}],
          ['Sincronización', {{data.sincronizacion}}],
          ['Semáforo Apagado', {{data.semaforo_apagado}}],
        ]);

        var options = {
          title: 'Total Tickets por Categoria',
          is3D: true,
          fontSize: 15,
          chartArea: {'width': '80%', 'height': '80%'}
        };

        var chart = new google.visualization.PieChart(document.getElementById('chart_categoria'));
        chart.draw(data, options);
      }
    </script>

    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Grupo', 'Cantidad'],
          ['Sistemas', {{data.sistemas}}],
          ['Redes', {{data.redes}}],
          ['PMT ATMS', {{data.pmt_atms}}],
          ['PMT Otros',  {{data.pmt_otros}}],
          ['Operadores', {{data.operadores}}],
          ['Técnicos', {{data.tecnicos}}],
          ['Administrativa', {{data.administrativa}}],
          ['Jefatura', {{data.jefatura}}],
        ]);

        var options = {
          title: 'Total Tickets por Grupo',
          is3D: true,
          fontSize: 15,
          chartArea: {'width': '80%', 'height': '80%'}
        };

        var chart = new google.visualization.PieChart(document.getElementById('chart_grupo'));
        chart.draw(data, options);
      }
    </script>

    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Estado', 'Cantidad'],
          ['Pendiente', {{data.pendiente}}],
          ['Cerrado', {{data.cerrado}}],
          ['Atendido', {{data.atendido}}],
          ['Vencido', {{data.vencido}}],
        ]);

        var options = {
          title: 'Total Tickets por Estado',
          is3D: false,
          colors: ['#ff9900', '#0099C6', '#109618', '#DC3912',]
        };

        var chart = new google.visualization.PieChart(document.getElementById('chart_estado'));
        chart.draw(data, options);
      }
    </script>
  </head>

  <body>
      <div class="container" align="center">
        <div style="margin: 15px; font-size: 30px; background-color: #484848; color: white">
          <p>Centro Avanzado de Control de Tráfico</p>
        </div>


        <h2><strong>Estadísticas DIA</strong></h2>
        <br>
      </div>

      <div class="container">
          <table style="padding: 15px; border: 0px solid black;">
              <tr>
                <td><div id="chart_categoria" style="width: 550px; height: 400px;"></div></td>
                <td><div id="chart_grupo" style="width: 550px; height: 400px;"></div></td>
              </tr>
              <tr>
                <td colspan="2" align="center"><div id="chart_estado" style="width: 850px; height: 450px;"></div></td>
              </tr>
          </table>     
      </div>     
      
  </body>
</html>

